# chat

## 数据库采用 postgresql
重启 pq 服务
`sudo service postgresql restart`
进入命令行
`psql -U chat`
编辑配置
`vim /etc/postgresql/11/main/postgresql.conf`
列出当前数据库所有表
`\dt`
列表所有数据库
`\l`
切换数据库
`\c 数据库名`
查看数据表结构
`\d 表名`

服务端启动 pgadmin web ui 容器
`docker run --env PGADMIN_DEFAULT_EMAIL=test@qq.com --env PGADMIN_DEFAULT_PASSWORD=test --env PGADMIN_LISTEN_PORT=8081 dpage/pgadmin4 -p 8081:8081`

[官方中文文档](http://www.postgres.cn/docs/10/admin.html)
[配置问题](https://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge)
[初始化问题](https://blog.csdn.net/zhangzeyuaaa/article/details/77941039)

[gorm 模型定义 -- tag](https://juejin.im/post/5ce2a5f3e51d455d86719f77)

## note
由于 user chan 采用 map 保存,并且键为 user id.所以需要保证每个用户只存在一次登录,此处应该在 jwt 中处理

## 1579070079
[比较两个 slice 是否相等 -- 遍历性能优于反射](https://www.jianshu.com/p/80f5f5173fca)
[比较 slice 前进行边界限制能提升性能](https://go101.org/article/bounds-check-elimination.html)

```html
<p>　　撩妹书籍，你有吗?想要撩妹而无处下手的朋友，不妨可以买这些撩妹书籍来看看，只有读懂女人才能够追到她，只有懂得追女术才能够不被拒绝。</p>
<p>　　一、《迷男方法》</p>
<p>　　简介：《谜男方法》 讲解男人把妹的流程M3模型，把从认识到发生关系分解为三个阶段：吸引、舒适感和诱惑。让把妹成为一门系统的科学。《谜男方法》科学地描述出把妹的方法和步骤，它把前期吸引到发生性关系分为3个阶段。</p>
<p>　　二、《把妹达人：那些坏小子教我的事》</p>
<p>　　简介：书中揭露各家高手的把妹绝活，公开他们的钓人&ldquo;公式&rdquo;，绝对让你受益匪浅。作者还如实地讲述了他与好莱坞著名影星汤姆?克鲁斯、小甜甜布兰妮、时尚女王帕丽丝?希尔顿以及寇特柯本的遗孀寇特妮?洛芙都有过的那些难忘的故事。尼尔保证，本书能使男人获得重生，更颠覆女人对男人的认知!</p>
<center>
	<img alt="追女生的技巧书籍，你有吗？" height="242" src="http://www.puamap.com/zixun/uploads/allimg/170328/26-1F32QU047.jpg" width="170" /></center>
<p>　　三、《把妹达人 游戏规则》</p>
<p>　　简介：本书分成两个部分。【PART 1】型男生活：30天改造计画。我也要当把妹达人!作者将四年的把妹经验，浓缩为30天的改造计画。让成千上万不得其门而入的拙男们搞定女人，更搞定人生!这一次，把妹故事不是由作者来写，而是由你担纲主演。 尼尔?史特劳斯将历经四年的把妹经验，浓缩为30天的改造计画，帮助了成千上万不 得其门而入的兄弟们约会成功。不只让他们搞定女人，也搞定了人生!【PART 2】型男告白日记：《把妹达人》没讲的、不敢讲的，都在这里一一告白。11篇实故事，揭露把妹界的黑暗面。这里的11个故事都真的，尼尔在《把妹达人》没讲的、不敢讲的，都在这里一一告白。与《把妹达人》不同的是，这些故事的重点不在把妹 ，而是欲望的本质，作者透过日记，自我探讨一个甚至连把妹大师都无法回答的问题：爽到之後，要如何面对接踵而至的问题?</p>
<p>　　四、《低成本泡妞》</p>
<p>　　简介：首度将心理学和成本核算学融入到泡妞的技巧中,让你看过之后受益匪浅,对泡妞得心应手。本书可以比喻为泡妞业中的葵花宝典,是男女老少不得不学,不得不看的经典书籍&hellip;&hellip;</p>
<p>　　五、《恋爱投资学》</p>
<p>　　简介：&ldquo;恋爱经费&rdquo;成为一些家长给子女的必备开支，颇值得玩味一番。对孩子未来婚姻走向的担忧，家长们的无奈也有几分黑色幽默。这几年，大龄剩男剩女一族的出现，不免令家长们乱了手脚，各种快餐式的相亲会也应运而生。&ldquo;恋爱经费&rdquo;看似有未雨绸缪的意味，但造成家长如此紧张与担心的局面，却是情商教育的缺失。</p>
<p>　　六、《狼族圣经》</p>
<p>　　简介：全面阐述了泡良的基本原则，各种泡良方式，从选择目标到睡觉后甩妞脱手的各阶段全套技巧，内附大量经典实战案例。泡良必备枕边书!(但是千万不能被老婆或者女友发现了)</p>
<p>　　七、《指男针》</p>
<p>　　简介：《指男针》有作家老岸写所著，于深圳和美国康州写作完。这本书，在中国第一次系统地把泡妞提升到科学的高度，打造了一本帮助男人全方位提高自己的书。</p>
<p>　　八、《约会倍增术》</p>
<p>　　简介：约会倍增术是可以当作百科全书来使用的一本把妹参考手册。通读并找出自己关心的部分并看看需要掌握的技巧你就有了把妹的技能了，如果你锲而不舍地研究这本书你就可以成功把妹了。</p>
<p>　　九、《超级约会》</p>
<p>　　简介：一个长相普通,出身寒微,没房没车的三流大学毕业青年,是怎样依靠不断地学习和实践,终于变成了获得无数美女青睐的达人?女人才是情感上的强者,因为她们掌握决定权!千万不要对女人表白,除非在睡觉最后一刻!美女都是天生情场高手,她们的经验是被动累积的,像苍蝇一样围绕在她身边的男人实在太多了,你还想做其中一个?抛弃小泽松岛们吧!她们再美也只是虚幻的影像。你必须要行动起来,在每一个街头,每一个夜场,每一个地方都搭讪异性,锤炼技巧。如果你不这样做,你的基因就将被淘汰!</p>
<p>　　十、《正妹心理学》</p>
<p>　　简介：该书中举出一些事例，以供广大男性读者参考。书中还对正妹对搭讪男的看法给男生以回馈，循序渐进，道出真正掌握与正妹搭讪的精髓所在，以资借鉴。另外，对于搭讪过程中的可能会出现的实际问题，比如怎样通过MSN巧妙地搭讪，正妹拒接电话怎么办等等，书中都有涉及。</p>
<p>　　十一、《聪明男人要读女人心理学》</p>
<p>　　简介：有一种男人，无论什么样的女人，都会被他的魅力吸引，有一种男人，无论什么样的女人，都会对他敬而远之。其实，地狱和天堂只有一线之隔&mdash;&mdash;懂不懂女人的心思。告诉你一个不一样的女人世界：这是一本为男人量身定做的女性心理书，它不仅对女人的内心世界进行了最全面、最深刻的挖掘，而且总结了最实用、最有效的应对女人的技巧。有了它，即使不会读心术，你也可以轻松掌握女人的所思所想，并在交往中赢得主动。</p>
<p>　　十二、《男人对女人攻心28招》</p>
<p>　　简介：这是壹个需要每个人推销自己的时代。择业，交友，相亲&hellip;&hellip;每壹次都是壹场自我推销。虽然每个人都时时要推销自己，但不代表人人都懂得如何推销自己。提到&ldquo;推销自己&rdquo;，壹般人立马会联想到商场裏的促销人员推销新品的场面。&ldquo;这是最新款的面霜，能让你的每个毛孔都感受到水汪汪的滋润。&rdquo;&ldquo;这是新出的曲奇饼，味道好而且健康。&rdquo;&ldquo;这是最新型的洗衣机，健康杀菌还省水。&rdquo;</p>
<p>　　十三、《1分钟让别人喜欢你》</p>
<p>　　简介：本书所强调的理念，基于心理学和人类行为学的最核心观念，提出人与人交往中最关键的、最能打动人的方方面面。拥有了这些方方面面的特质，你将会是一个魅力四射的人，成功对你来说也是唾手可得。因为，像你这样优秀的人，成功只是时间问题。你将会拥有成功的事业、完美的家庭、温馨的友情，因为你懂得如何让别人喜欢上跟你在一起的感觉，是一个有着巨大吸引力的智者!想想看，这真的是一件激动人心的事情，不是吗?</p>
```

```
《迷男方法》
《把妹达人：那些坏小子教我的事》
《把妹达人 游戏规则》
《低成本泡妞》
《恋爱投资学》
《狼族圣经》
《指男针》
《约会倍增术》
《超级约会》
《正妹心理学》
《聪明男人要读女人心理学》
《男人对女人攻心28招》
《1分钟让别人喜欢你》
```